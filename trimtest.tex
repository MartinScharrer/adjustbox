%&pdflatex
\documentclass{article}

\usepackage{adjustbox}

\def\report#1{%
    \par#1\par
    \message{^^J#1}%
}

\def\testdim#1#2{%
    \ifdim#10=#2
        \report{OK: \string#1 = \the\dimexpr#10}%
    \else
        \report{FAIL: \string#1 = \the\dimexpr#10 \space =!= \the\dimexpr#2\relax}%
    \fi
}

\showboxdepth=0

\makeatletter

\fboxsep=1pt

\begin{document}
\ttfamily

\setbox0\hbox{\rule[-5pt]{10pt}{15pt}}

{
\setbox0=\copy0
\@trimbox{0}{0pt}{0pt}{0pt}{0pt}
\testdim\dp{5pt}%
\testdim\ht{10pt}%
\testdim\wd{10pt}%
\fbox{\box0}.%
}



{
\setbox0=\copy0
\@trimbox{0}{0pt}{6pt}{0pt}{0pt}
\testdim\dp{0pt}%
\testdim\ht{9pt}%
\testdim\wd{10pt}%
\fbox{\box0}.%
}


{
\setbox0=\copy0
\@trimbox{0}{0pt}{1pt}{0pt}{0pt}
\testdim\dp{4pt}%
\testdim\ht{10pt}%
\testdim\wd{10pt}%
\fbox{\box0}.%
}


{
\setbox0=\copy0
\@trimbox{0}{0pt}{1pt}{0pt}{11pt}
\testdim\dp{3pt}%
\testdim\ht{0pt}%
\testdim\wd{10pt}%
\fbox{\box0}.%
}



{
\setbox0=\copy0
\@trimbox{0}{0pt}{6pt}{0pt}{8pt}
\testdim\dp{0pt}%
\testdim\ht{1pt}%
\testdim\wd{10pt}%
\fbox{\box0}.%
}



{
\setbox0=\copy0
\@trimbox{0}{1pt}{0pt}{1pt}{0pt}
\testdim\dp{5pt}%
\testdim\ht{10pt}%
\testdim\wd{8pt}%
\fbox{\box0}.%
}



{
\setbox0=\copy0
\@trimbox{0}{11pt}{0pt}{1pt}{0pt}
\testdim\dp{5pt}%
\testdim\ht{10pt}%
\testdim\wd{0pt}%
\fbox{\box0}.%
}



\message{^^J}%
\end{document}


\setbox0\hbox{\rule{1000000sp}{1000000sp}}
\testdim\dp\z@
\testdim\ht{1000000sp}%
\testdim\wd{1000000sp}%

{
\setbox0=\copy0
\testdim\dp\z@
\testdim\ht{1000000sp}%
\testdim\wd{1000000sp}%
}

{
\setbox0=\copy0
\@trimbox{0}{0000sp}{0000sp}{0000sp}{0000sp}
\testdim\dp\z@
\testdim\ht{1000000sp}%
\testdim\wd{1000000sp}%
}

{
\setbox0=\copy0
\@trimbox{0}{100000sp}{0000sp}{0000sp}{0000sp}
\testdim\dp\z@
\testdim\ht{1000000sp}%
\testdim\wd{900000sp}%
}

{
\setbox0=\copy0
\@trimbox{0}{0000sp}{0000sp}{100000sp}{0000sp}
\testdim\dp\z@
\testdim\ht{1000000sp}%
\testdim\wd{900000sp}%
}

{
\setbox0=\copy0
\@trimbox{0}{50000sp}{0000sp}{100000sp}{0000sp}
\testdim\dp\z@
\testdim\ht{1000000sp}%
\testdim\wd{850000sp}%
}


{
\setbox0=\copy0
\@trimbox{0}{0000sp}{100000sp}{0000sp}{0000sp}
\testdim\dp\z@
\testdim\ht{900000sp}%
\testdim\wd{1000000sp}%
}

{
\setbox0=\copy0
\@trimbox{0}{0000sp}{0000sp}{0000sp}{100000sp}
\testdim\dp\z@
\testdim\ht{900000sp}%
\testdim\wd{1000000sp}%
}


{
\setbox0=\copy0
\@trimbox{0}{0000sp}{50000sp}{0000sp}{100000sp}
\testdim\dp\z@
\testdim\ht{850000sp}%
\testdim\wd{1000000sp}%
}

{
\setbox0=\copy0
\@trimbox{0}{10000sp}{50000sp}{0000sp}{100000sp}
\testdim\dp\z@
\testdim\ht{850000sp}%
\testdim\wd{990000sp}%
}

{
\setbox0=\copy0
\@trimbox{0}{10000sp}{50000sp}{100000sp}{100000sp}
\testdim\dp\z@
\testdim\ht{850000sp}%
\testdim\wd{890000sp}%
}


{
\setbox0=\copy0
\@trimbox{0}{10000sp}{50000sp}{100000sp}{100000sp}
\testdim\dp\z@
\testdim\ht{850000sp}%
\testdim\wd{890000sp}%
}


{
\setbox0=\copy0
\@trimbox{0}{500000sp}{50000sp}{500000sp}{100000sp}
\testdim\dp\z@
\testdim\ht{850000sp}%
\testdim\wd{0000sp}%
}


{
\setbox0=\copy0
\@trimbox{0}{510000sp}{50000sp}{500000sp}{100000sp}
\testdim\dp\z@
\testdim\ht{850000sp}%
\testdim\wd{0000sp}%
}



{
\setbox0=\copy0
\@trimbox{0}{500000sp}{50000sp}{510000sp}{100000sp}
\testdim\dp\z@
\testdim\ht{850000sp}%
\testdim\wd{0000sp}%
}




{
\setbox0=\copy0
\@trimbox{0}{600000sp}{000sp}{600000sp}{000sp}
\testdim\dp\z@
\testdim\ht{1000000sp}%
\testdim\wd{0000sp}%
\fbox{\box0}%
}


%\fbox{\hbox{\hskip-2500000sp\copy0}}.

%\fbox{\hbox{\hskip-10pt\lower10pt\copy0}}.

\message{^^J}%
\end{document}


