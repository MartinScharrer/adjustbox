% \iffalse
%<!COPYRIGHT>
% \fi
%    \begin{macrocode}
\ProvidesFile{adjpdftex.def}[%
%<!DATE>
%<!VERSION>
%<*DRIVER>
    2099/01/01 develop
%</DRIVER>
    adjustbox clip driver for pdftex]
%    \end{macrocode}
%
%
% \begin{macro}{\@clipbox}
%    \begin{macrocode}
\def\@clipbox#1#2#3#4#5{%
    \@trimbox{#1}{#2}{#3}{#4}{#5}%
    \setbox#5=\hbox{%
        \Gin@defaultbp\WIDTH{\wd#5}%
        \Gin@defaultbp\DEPTH{\dp#5}%
        \@tempdima\ht#5%
        \advance\@tempdima\dp#5%
        \Gin@defaultbp\TOTALHEIGHT{\@tempdima}%
        \special{pdf:content q }%
            \special{%
                pdf:literal direct
                   0 -\DEPTH\space \WIDTH\space \TOTALHEIGHT\space re
              }%
            \special{pdf:literal direct W }%
            \special{pdf:literal direct n }%
              \special{pdf:literal direct -1 0 0 -1 0 0 cm }%
                \special{pdf:content q }%
                  \special{pdf:literal direct -1 0 0 -1 0 0 cm }%
                    \box#5%
                \special{pdf:literal direct Q }%
        \special{pdf:literal direct Q }%
    }%
}
%    \end{macrocode}
% \end{macro}
%
% \iffalse
% vim: ft=tex
% \fi
